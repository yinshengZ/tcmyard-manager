(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afb27602","chunk-05277e61"],{"08d8":function(t,e,a){"use strict";a.d(e,"k",(function(){return l})),a.d(e,"i",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"g",(function(){return s})),a.d(e,"d",(function(){return d})),a.d(e,"h",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"f",(function(){return p})),a.d(e,"e",(function(){return m})),a.d(e,"j",(function(){return _}));var n=a("b775");function l(t){return Object(n["a"])({url:"/patient/search",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/patient/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/patient",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/gender",method:"post",data:t})}function s(){return Object(n["a"])({url:"/gender",method:"get"})}function d(t){return Object(n["a"])({url:"/marital",method:"post",data:t})}function c(){return Object(n["a"])({url:"/marital",method:"get"})}function u(t){return Object(n["a"])({url:"/allergy",method:"post",data:t})}function p(){return Object(n["a"])({url:"/allergy",method:"get"})}function m(t){return Object(n["a"])({url:"/symptom",method:"post",data:t})}function _(){return Object(n["a"])({url:"/symptom",method:"get"})}},"295b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card search-box",attrs:{span:12,offset:6,shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Search Patient:")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add_new_patient}},[t._v(" New ")])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("el-form",{ref:t.form_data,staticClass:"search_patient_form",attrs:{model:t.form_data,inline:!0,rules:t.validation1,"label-position":"top"}},[a("el-row",["date"!=t.form_data.option?[a("el-form-item",{attrs:{label:"input",prop:"input"}},[a("el-input",{attrs:{placeholder:"search here..."},model:{value:t.form_data.input,callback:function(e){t.$set(t.form_data,"input",e)},expression:"form_data.input"}})],1)]:[a("el-form-item",{attrs:{label:"input"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date",format:"dd-MM-yyyy","value-format":"dd-MM-yyyy"},model:{value:t.form_data.input,callback:function(e){t.$set(t.form_data,"input",e)},expression:"form_data.input"}})],1)],a("el-form-item",{attrs:{label:"Search By"}},[a("el-select",{attrs:{placeholder:"Search by.."},on:{change:t.reset_input},model:{value:t.form_data.option,callback:function(e){t.$set(t.form_data,"option",e)},expression:"form_data.option"}},[a("el-option",{attrs:{label:"Name",value:"name"}}),a("el-option",{attrs:{label:"Email",value:"email"}}),a("el-option",{attrs:{label:"Gender",value:"gender"}}),a("el-option",{attrs:{label:"Symptom",value:"symptom"}}),a("el-option",{attrs:{label:"Allergy",value:"allergy"}}),a("el-option",{attrs:{label:"Date",value:"date"}})],1)],1)],2),a("el-row",[a("el-form-item",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:t.search_patient}},[t._v("Search")]),a("el-button",{attrs:{type:"info"},on:{click:t.reset_form}},[t._v("Reset")])],1)],1)],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[t.searched?a("div",{staticClass:"patient_table"},[a("patient-table",{key:t.key,attrs:{form_data:t.form_data}})],1):t._e()])],1),a("el-dialog",{attrs:{title:"Add New Patient:",visible:t.add_patient_form_visible,"before-close":t.handle_close},on:{"update:visible":function(e){t.add_patient_form_visible=e}}},[a("add-patient-form",{key:t.key})],1)],1)},l=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table_data,fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",sortable:"",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.id))])]}}])}),a("el-table-column",{attrs:{label:"First Name",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t._f("capitalize")(n.first_name)))])]}}])}),a("el-table-column",{attrs:{label:"Last Name","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t._f("capitalize")(n.last_name)))])]}}])}),a("el-table-column",{attrs:{label:"Email","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.email))])]}}])}),a("el-table-column",{attrs:{label:"Gender","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t._f("capitalize")(n.gender.gender)))])]}}])}),a("el-table-column",{attrs:{label:"Date of Birth","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.date_of_birth))])]}}])}),a("el-table-column",{attrs:{label:"First Visit","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.convert_date(n.created_at)))])]}}])}),a("el-table-column",{attrs:{label:"Operations","min-width":"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.patient_details(n.id)}}},[t._v(" Details ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delete_patient(n.id)}}},[t._v(" Delete ")])]}}])})],1)],1)],1)},r=[],o=(a("fb6a"),a("d3b7"),a("25f0"),a("08d8")),s={filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},props:["form_data"],data:function(){return{table_data:[],search_query:{input:"",option:""}}},mounted:function(){this.search_patient()},methods:{search_patient:function(){var t=this;this.search_query.input=this.form_data.input,this.search_query.option=this.form_data.option,Object(o["k"])(this.search_query).then((function(e){t.table_data=e,console.log(t.table_data)}))},patient_details:function(t){this.$router.push({path:"/patient/details/"+t})},convert_date:function(t){var e=new Date(t).toLocaleDateString("en-gb");return e}}},d=s,c=a("2877"),u=Object(c["a"])(d,i,r,!1,null,null,null),p=u.exports,m=a("89ff"),_={components:{patientTable:p,AddPatientForm:m["default"]},data:function(){return{form_data:{input:"yinsheng",option:"name"},add_patient_form_visible:!1,key:0,date:"",searched:!1,validation:{input:[{required:!0,message:"The field can not be empty!",trigger:"blur"},{min:1,max:255,message:"At least 1 character is needed to search",trigger:"blur"}]}}},methods:{search_patient:function(){this.searched=!0,this.key+=1},add_new_patient:function(){this.add_patient_form_visible=!0,this.key},reset_form:function(){alert("reset!")},reset_input:function(){this.form_data.input=""}}},f=_,h=(a("f0e3"),Object(c["a"])(f,n,l,!1,null,"be486dd6",null));e["default"]=h.exports},"89ff":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("el-form",{ref:"patient-info",attrs:{model:t.patient_info,id:"add_patient","label-width":"140px","label-position":"left"}},[a("el-form-item",{attrs:{label:"First Name",prop:"first_name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:t.patient_info.first_name,callback:function(e){t.$set(t.patient_info,"first_name",e)},expression:"patient_info.first_name"}})],1),a("el-form-item",{attrs:{label:"Last Name",prop:"last_name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:t.patient_info.last_name,callback:function(e){t.$set(t.patient_info,"last_name",e)},expression:"patient_info.last_name"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Gender",prop:"gender_id"}},[a("el-select",{model:{value:t.patient_info.gender_id,callback:function(e){t.$set(t.patient_info,"gender_id",e)},expression:"patient_info.gender_id"}},t._l(t.gender_rtv,(function(t){return a("el-option",{key:t.id,attrs:{label:t.gender,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.load_gender}},[t._v(" Add ")])],1)],1),a("el-form-item",{attrs:{label:"Date of Birth",prop:"date_of_birth"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy/MM/dd","value-format":"yyyy/MM/dd"},model:{value:t.patient_info.date_of_birth,callback:function(e){t.$set(t.patient_info,"date_of_birth",e)},expression:"patient_info.date_of_birth"}})],1),a("el-form-item",{attrs:{label:"Postcode",prop:"postcode"}},[a("el-input",{model:{value:t.patient_info.postcode,callback:function(e){t.$set(t.patient_info,"postcode",e)},expression:"patient_info.postcode"}})],1),a("el-form-item",{attrs:{label:"Telephone",prop:"telephone"}},[a("el-input",{model:{value:t.patient_info.telephone,callback:function(e){t.$set(t.patient_info,"telephone",e)},expression:"patient_info.telephone"}})],1),a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{model:{value:t.patient_info.email,callback:function(e){t.$set(t.patient_info,"email",e)},expression:"patient_info.email"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Marital Status",prop:"marital_status_id"}},[a("el-select",{model:{value:t.patient_info.marital_status_id,callback:function(e){t.$set(t.patient_info,"marital_status_id",e)},expression:"patient_info.marital_status_id"}},t._l(t.marital_rtv,(function(t){return a("el-option",{key:t.id,attrs:{label:t.marital_status,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.load_marital}},[t._v(" Add ")])],1)],1),a("el-form-item",{attrs:{label:"Occupation",prop:"occupation"}},[a("el-input",{model:{value:t.patient_info.occupation,callback:function(e){t.$set(t.patient_info,"occupation",e)},expression:"patient_info.occupation"}})],1),a("el-form-item",{attrs:{label:"HIV Postive",prop:"hiv"}},[a("el-switch",{model:{value:t.patient_info.hiv,callback:function(e){t.$set(t.patient_info,"hiv",e)},expression:"patient_info.hiv"}})],1),a("el-form-item",{attrs:{label:"Past History",prop:"past_history"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.patient_info.past_history,callback:function(e){t.$set(t.patient_info,"past_history",e)},expression:"patient_info.past_history"}})],1),a("el-form-item",{attrs:{label:"Current Issue",prop:"current_issue"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.patient_info.current_issue,callback:function(e){t.$set(t.patient_info,"current_issue",e)},expression:"patient_info.current_issue"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Allergies",prop:"allergies"}},[a("el-select",{attrs:{multiple:""},model:{value:t.patient_info.allergies,callback:function(e){t.$set(t.patient_info,"allergies",e)},expression:"patient_info.allergies"}},t._l(t.allergies_rtv,(function(t){return a("el-option",{key:t.id,attrs:{label:t.allergies,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.load_allergy}},[t._v(" Add ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Symptoms",prop:"symptoms"}},[a("el-select",{attrs:{multiple:""},model:{value:t.patient_info.symptoms,callback:function(e){t.$set(t.patient_info,"symptoms",e)},expression:"patient_info.symptoms"}},t._l(t.symptoms_rtv,(function(t){return a("el-option",{key:t.id,attrs:{label:t.symptom,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.load_symptom}},[t._v(" Add ")])],1)],1),a("el-form-item",{attrs:{label:"Current Medication",prop:"current_medication"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.patient_info.current_medication,callback:function(e){t.$set(t.patient_info,"current_medication",e)},expression:"patient_info.current_medication"}})],1),a("el-row",[a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_patient(t.first_name)}}},[t._v("Submit")]),a("el-button",{on:{click:function(e){return t.reset_form("patient_info")}}},[t._v(" Reset ")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"Add New Allergy",visible:t.add_allergy_loaded,"before-close":t.get_allergies},on:{"update:visible":function(e){t.add_allergy_loaded=e}}},[a("add-allergy")],1),a("el-dialog",{attrs:{title:"Add New Gender",visible:t.add_genders_loaded,"before-close":t.get_genders},on:{"update:visible":function(e){t.add_genders_loaded=e}}},[a("add-gender")],1),a("el-dialog",{attrs:{title:"Add New Marital Status",visible:t.add_marital_loaded,"before-close":t.get_maritals},on:{"update:visible":function(e){t.add_marital_loaded=e}}},[a("add-marital")],1),a("el-dialog",{attrs:{title:"Add New Symptoms",visible:t.add_symptom_loaded,"before-close":t.get_symptoms},on:{"update:visible":function(e){t.add_symptom_loaded=e}}},[a("add-symptom")],1)],1)],1)},l=[],i=a("08d8"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{id:"add_gender_form"}},[a("el-form-item",[a("el-input",{model:{value:t.gender.gender,callback:function(e){t.$set(t.gender,"gender",e)},expression:"gender.gender"}})],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.add_gender}},[t._v("Add Gender")])],1)],1)],1)],1)},o=[],s={name:"AddGender",data:function(){return{gender:{gender:""}}},methods:{add_gender:function(){var t=this;Object(i["c"])(this.gender).then((function(e){t.$message("gender added successfully")})),document.getElementById("add_gender_form").reset()}}},d=s,c=a("2877"),u=Object(c["a"])(d,r,o,!1,null,null,null),p=u.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{id:"add_marital_form"}},[a("el-form-item",[a("el-input",{model:{value:t.marital_status.marital_status,callback:function(e){t.$set(t.marital_status,"marital_status",e)},expression:"marital_status.marital_status"}})],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.add_marital}},[t._v("Add Marital Status")])],1)],1)],1)],1)},_=[],f={name:"AddMarital",data:function(){return{marital_status:{marital_status:""}}},methods:{add_marital:function(){var t=this;Object(i["d"])(this.marital_status).then((function(e){t.$message("Marital status added successfully")})).catch((function(t){console.log(t)})),document.getElementById("add_marital_form").reset()}}},h=f,b=Object(c["a"])(h,m,_,!1,null,null,null),y=b.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{id:"add_allergy_form"}},[a("el-form-item",[a("el-input",{model:{value:t.allergy.allergy,callback:function(e){t.$set(t.allergy,"allergy",e)},expression:"allergy.allergy"}})],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.add_allergies}},[t._v("Add Allergy")])],1)],1)},v=[],k={name:"AddAllergy",data:function(){return{allergy:{allergy:""}}},methods:{add_allergies:function(){var t=this;Object(i["b"])(this.allergy).then((function(e){t.$message("Allergy added successfully")})).catch((function(t){console.log(t)})),document.getElementById("add_allergy_form").reset()}}},w=k,x=Object(c["a"])(w,g,v,!1,null,null,null),$=x.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{id:"add_symptom_form"}},[a("el-form-item",[a("el-input",{model:{value:t.symptom.symptom,callback:function(e){t.$set(t.symptom,"symptom",e)},expression:"symptom.symptom"}})],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.add_symptom}},[t._v("Add Symptom")])],1)],1)},S=[],j={name:"AddSymptom",data:function(){return{symptom:{symptom:""}}},methods:{add_symptom:function(){var t=this;Object(i["e"])(this.symptom).then((function(e){t.$message("Symptom added successfully")})).catch((function(t){console.log(t)})),document.getElementById("add_symptom_form").reset()}}},O=j,M=Object(c["a"])(O,A,S,!1,null,null,null),E=M.exports,C={components:{AddGender:p,AddMarital:y,AddAllergy:$,AddSymptom:E},data:function(){return{patient_info:{first_name:"",last_name:"",gender_id:"",date_of_birth:"",postcode:"",telephone:"",email:"",marital_status_id:"",occupation:"",hiv:"false",past_history:"",current_issue:"",current_medication:"",allergies:[],symptoms:[]},gender_rtv:null,marital_rtv:null,allergies_rtv:null,symptoms_rtv:null,add_allergy_loaded:!1,add_genders_loaded:!1,add_marital_loaded:!1,add_symptom_loaded:!1}},created:function(){},mounted:function(){this.get_genders(),this.get_maritals(),this.get_allergies(),this.get_symptoms()},methods:{add_patient:function(t){var e=this;this.data=this.patient_info,Object(i["a"])(this.data).then((function(t){console.log(t),e.$message("Patient has been added successfully!"),e.$refs["patient-info"].resetFields()}))},reset_form:function(t){this.$refs[t].resetFields()},get_genders:function(){var t=this;Object(i["g"])().then((function(e){t.gender_rtv=e})).catch((function(t){$this.message(t)})),this.add_genders_loaded=!1},get_maritals:function(){var t=this;Object(i["h"])().then((function(e){t.marital_rtv=e})),this.add_marital_loaded=!1},get_allergies:function(){var t=this;Object(i["f"])().then((function(e){t.allergies_rtv=e})),this.add_allergy_loaded=!1},get_symptoms:function(){var t=this;Object(i["j"])().then((function(e){t.symptoms_rtv=e})),this.add_symptom_loaded=!1},load_gender:function(){this.add_genders_loaded=!this.add_genders_loaded},load_marital:function(){this.add_marital_loaded=!this.add_marital_loaded},load_allergy:function(){this.add_allergy_loaded=!this.add_allergy_loaded},load_symptom:function(){this.add_symptom_loaded=!this.add_symptom_loaded}}},N=C,D=(a("eb22"),Object(c["a"])(N,n,l,!1,null,"28775a18",null));e["default"]=D.exports},e481:function(t,e,a){},eb22:function(t,e,a){"use strict";a("f5e9")},f0e3:function(t,e,a){"use strict";a("e481")},f5e9:function(t,e,a){}}]);