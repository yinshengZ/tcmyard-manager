(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a831441"],{"0db5":function(e,t,n){"use strict";n("db8c")},"33d5":function(e,t,n){},"5e00":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("inventory-list")],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.load_add_inventory_form}},[e._v(" New ")])],1)]),n("el-dialog",{attrs:{title:"Add New Inventory",visible:e.add_inventory_form_visible,"before-close":e.get_inventories},on:{"update:visible":function(t){e.add_inventory_form_visible=t}}},[n("add-item",{key:e.key})],1),n("el-dialog",{attrs:{title:"Update Inventory Details",visible:e.update_inventory_form_visible,"before-close":e.get_inventories},on:{"update:visible":function(t){e.update_inventory_form_visible=t}}},[n("update-inventory",{key:e.key,attrs:{inventory_id:e.inventory_id}})],1),n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg-icon",{attrs:{"icon-class":"herb"}}),e._v(" Herbs")],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paged_herbs}},[n("el-table-column",{attrs:{label:"ID",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.id))])]}}])}),n("el-table-column",{attrs:{label:"Name",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.name))])]}}])}),n("el-table-column",{attrs:{label:"English Name",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e._f("capitalize")(a.eng_name)))])]}}])}),n("el-table-column",{attrs:{label:"Stock",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.stock))])]}}])}),n("el-table-column",{attrs:{label:"Unit Price",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.unit_price)+" ")])]}}])}),n("el-table-column",{attrs:{label:"Expiry Date",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null==a.expiry_date?n("span",[e._v("No Date Set")]):n("span",[e._v(e._s(e.convert_date(a.expiry_date)))])]}}])}),n("el-table-column",{attrs:{label:"Last Updated",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e.convert_date(a.updated_at)))])]}}])}),n("el-table-column",{attrs:{label:"Operations",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.load_update_inventory_form(a.id)}}},[e._v(" Update ")]),n("el-button",{attrs:{type:"danger"}},[e._v(" Delete ")])]}}])}),n("el-table-column",{attrs:{type:"expand",align:"right",label:"Description",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("p",[n("b",[e._v("Description:")])]),n("span",[e._v(e._s(a.description))])]}}])},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search.."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1),n("el-pagination",{attrs:{background:"",layout:"sizes,prev,pager,next","page-size":e.page_size,"page-sizes":e.page_sizes,total:e.herbs.length},on:{"size-change":e.change_page_size,"current-change":e.set_page}})],1),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg-icon",{attrs:{"icon-class":"retail"}}),e._v(" Retail")],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paged_retails}},[n("el-table-column",{attrs:{label:"ID",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.id))])]}}])}),n("el-table-column",{attrs:{label:"Name",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.name))])]}}])}),n("el-table-column",{attrs:{label:"English Name",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e._f("capitalize")(a.eng_name)))])]}}])}),n("el-table-column",{attrs:{label:"Stock",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.stock))])]}}])}),n("el-table-column",{attrs:{label:"Unit Price",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.unit_price)+" ")])]}}])}),n("el-table-column",{attrs:{label:"Expiry Date",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null==a.expiry_date?n("span",[e._v("No Date Set")]):n("span",[e._v(e._s(e.convert_date(a.expiry_date)))])]}}])}),n("el-table-column",{attrs:{label:"Last Updated",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e.convert_date(a.updated_at)))])]}}])}),n("el-table-column",{attrs:{label:"Operations",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.load_update_inventory_form(a.id)}}},[e._v(" Update ")]),n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.delete_inventory(a.id)}}},[e._v(" Delete ")])]}}])}),n("el-table-column",{attrs:{type:"expand",align:"right",label:"Description",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("p",[n("b",[e._v("Description:")])]),n("span",[e._v(e._s(a.description))])]}}])},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search.."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1),n("el-pagination",{attrs:{background:"",layout:"sizes,prev,pager,next","page-size":e.page_size,"page-sizes":e.page_sizes,total:e.retails.length},on:{"size-change":e.change_page_size,"current-change":e.set_page}})],1),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg-icon",{attrs:{"icon-class":"product"}}),e._v(" Others")],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paged_others}},[n("el-table-column",{attrs:{label:"ID",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.id))])]}}])}),n("el-table-column",{attrs:{label:"Name",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.name))])]}}])}),n("el-table-column",{attrs:{label:"English Name",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e._f("capitalize")(a.eng_name)))])]}}])}),n("el-table-column",{attrs:{label:"Stock",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.stock))])]}}])}),n("el-table-column",{attrs:{label:"Unit Price",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.unit_price)+" ")])]}}])}),n("el-table-column",{attrs:{label:"Expiry Date",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null==a.expiry_date?n("span",[e._v("No Date Set")]):n("span",[e._v(e._s(e.convert_date(a.expiry_date)))])]}}])}),n("el-table-column",{attrs:{label:"Last Updated",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(e.convert_date(a.updated_at)))])]}}])}),n("el-table-column",{attrs:{label:"Operations",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.load_update_inventory_form(a.id)}}},[e._v(" Update ")]),n("el-button",{attrs:{type:"danger"}},[e._v(" Delete ")])]}}])}),n("el-table-column",{attrs:{type:"expand",align:"right",label:"Description",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("p",[n("b",[e._v("Description:")])]),n("span",[e._v(e._s(a.description))])]}}])},[n("template",{slot:"header"},[n("el-input",{attrs:{size:"mini",placeholder:"Type to search.."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1),n("el-pagination",{attrs:{background:"",layout:"sizes,prev,pager,next","page-size":e.page_size,"page-sizes":e.page_sizes,total:e.others.length},on:{"size-change":e.change_page_size,"current-change":e.set_page}})],1)],1)],1)},o=[],s=(n("fb6a"),n("d3b7"),n("25f0"),n("f3a3")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",[n("div",{staticClass:"add-item-form"},[n("el-form",{ref:"add-item-form",attrs:{model:e.inventory_details,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Chinese Name"}},[n("el-input",{model:{value:e.inventory_details.name,callback:function(t){e.$set(e.inventory_details,"name",t)},expression:"inventory_details.name"}})],1),n("el-form-item",{attrs:{label:"English Name"}},[n("el-input",{model:{value:e.inventory_details.eng_name,callback:function(t){e.$set(e.inventory_details,"eng_name",t)},expression:"inventory_details.eng_name"}})],1),n("el-form-item",{attrs:{label:"Unit Price"}},[n("el-input-number",{attrs:{precison:2,step:.1,max:999999},model:{value:e.inventory_details.unit_price,callback:function(t){e.$set(e.inventory_details,"unit_price",t)},expression:"inventory_details.unit_price"}})],1),n("el-form-item",{attrs:{label:"Stock"}},[n("el-input",{model:{value:e.inventory_details.stock,callback:function(t){e.$set(e.inventory_details,"stock",t)},expression:"inventory_details.stock"}})],1),n("el-form-item",{attrs:{label:"Category"}},[n("el-select",{attrs:{placeholder:"select..."},model:{value:e.inventory_details.categories_id,callback:function(t){e.$set(e.inventory_details,"categories_id",t)},expression:"inventory_details.categories_id"}},e._l(e.categories_rtv,(function(e){return n("el-option",{key:e.id,attrs:{label:e.categories,value:e.id}})})),1),n("a",{staticClass:"inline-button"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:e.add_new_category_form}})],1)],1),n("el-form-item",{attrs:{label:"Expiry Date"}},[n("el-date-picker",{attrs:{type:"date",format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",placeholder:"Pick a date"},model:{value:e.inventory_details.expiry_date,callback:function(t){e.$set(e.inventory_details,"expiry_date",t)},expression:"inventory_details.expiry_date"}})],1),n("el-form-item",{attrs:{label:"Description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.inventory_details.description,callback:function(t){e.$set(e.inventory_details,"description",t)},expression:"inventory_details.description"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.add_new_item}},[e._v(" Create ")]),n("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v(" Reset ")])],1)],1),n("el-dialog",{attrs:{title:"Add New Category:",visible:e.add_new_category_form_visible,"before-close":e.get_categories},on:{"update:visible":function(t){e.add_new_category_form_visible=t}}},[n("add-category")],1)],1)])],1)},c=[],d=n("c405"),u=n("97c5"),_={components:{AddCategory:u["a"]},data:function(){return{inventory_details:{name:"",eng_name:"",stock:0,categories_id:"",description:""},categories_rtv:"",add_new_category_form_visible:!1}},mounted:function(){this.get_categories()},methods:{add_new_item:function(){var e=this;this.data=this.inventory_details,Object(s["a"])(this.data).then((function(t){e.$notify({title:"Notification",message:t,type:"success"})}))},get_categories:function(){var e=this;Object(d["b"])().then((function(t){e.categories_rtv=t})),this.add_new_category_form_visible=!1},add_new_category_form:function(){this.add_new_category_form_visible=!0}}},p=_,f=(n("8ecf"),n("2877")),v=Object(f["a"])(p,l,c,!1,null,"5b453dbc",null),y=v.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"update_inventory_form",attrs:{model:e.inventory_details,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.inventory_details.id,callback:function(t){e.$set(e.inventory_details,"id",t)},expression:"inventory_details.id"}})],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{model:{value:e.inventory_details.name,callback:function(t){e.$set(e.inventory_details,"name",t)},expression:"inventory_details.name"}})],1),n("el-form-item",{attrs:{label:"English Name"}},[n("el-input",{model:{value:e.inventory_details.eng_name,callback:function(t){e.$set(e.inventory_details,"eng_name",t)},expression:"inventory_details.eng_name"}})],1),n("el-form-item",{attrs:{label:"Category"}},[n("el-select",{attrs:{placeholder:"select..."},model:{value:e.inventory_details.categories_id,callback:function(t){e.$set(e.inventory_details,"categories_id",t)},expression:"inventory_details.categories_id"}},e._l(e.categories_rtv,(function(e){return n("el-option",{key:e.id,attrs:{label:e.categories,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"Unit Price"}},[n("el-input-number",{attrs:{precison:2,step:.1,max:999999},model:{value:e.inventory_details.unit_price,callback:function(t){e.$set(e.inventory_details,"unit_price",t)},expression:"inventory_details.unit_price"}})],1),n("el-form-item",{attrs:{label:"Stock"}},[n("el-input",{model:{value:e.inventory_details.stock,callback:function(t){e.$set(e.inventory_details,"stock",t)},expression:"inventory_details.stock"}})],1),n("el-form-item",{attrs:{label:"Description"}},[n("el-input",{model:{value:e.inventory_details.description,callback:function(t){e.$set(e.inventory_details,"description",t)},expression:"inventory_details.description"}})],1),n("el-form-item",{attrs:{label:"Expiry Date"}},[n("el-date-picker",{attrs:{type:"date",format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",placeholder:e.inventory_details.expiry_date},model:{value:e.updated_expiry_date,callback:function(t){e.updated_expiry_date=t},expression:"updated_expiry_date"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.update_inventory_details}},[e._v("Update")])],1)],1)],1)},m=[],h={props:["inventory_id"],data:function(){return{inventory_details:[],categories_rtv:"",updated_expiry_date:"",original_expiry_date:""}},computed:{},created:function(){this.set_original_expiry_date()},mounted:function(){this.get_categories(),this.get_inventory_details(),this.set_original_expiry_date()},updated:function(){this.set_original_expiry_date()},methods:{set_original_expiry_date:function(){this.original_expiry_date=this.inventory_details.expiry_date,console.log(this.inventory_details),console.log("this original date is: "+this.inventory_details.expiry_date)},get_inventory_details:function(){var e=this;Object(s["h"])(this.inventory_id).then((function(t){console.log(e.inventory_id),console.log(t),e.inventory_details=t}))},update_inventory_details:function(){var e=this;""!=this.updated_expiry_date?(this.inventory_details.expiry_date=this.updated_expiry_date,console.log("using new date")):(this.inventory_details.expiry_date=this.original_expiry_date,console.log("using original date")),Object(s["i"])(this.inventory_details,this.inventory_id).then((function(t){e.$notify({title:"Notification",message:t,type:"success"})}))},get_categories:function(){var e=this;Object(d["b"])().then((function(t){e.categories_rtv=t,console.log(e.categories_rtv)}))}}},g=h,k=Object(f["a"])(g,b,m,!1,null,"04fbcfe7",null),w=k.exports,x={filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},components:{AddItem:y,UpdateInventory:w},data:function(){return{herbs:[],retails:[],others:[],inventory_list:[],search:"",add_inventory_form_visible:!1,update_inventory_form_visible:!1,inventory_id:"",key:"",page_size:10,page:1,page_sizes:[10,15,20,50,100]}},created:function(){this.get_herbs(),this.get_retails(),this.get_others()},computed:{paged_herbs:function(){return this.herbs.slice(this.page_size*this.page-this.page_size,this.page_size*this.page)},paged_retails:function(){return this.retails.slice(this.page_size*this.page-this.page_size,this.page_size*this.page)},paged_others:function(){return this.others.slice(this.page_size*this.page-this.page_size,this.page_size*this.page)}},methods:{get_inventories:function(){this.get_herbs(),this.get_retails(),this.get_others(),this.add_inventory_form_visible=!1,this.update_inventory_form_visible=!1},set_page:function(e){this.page=e},change_page_size:function(e){this.page_size=e},get_herbs:function(){var e=this;Object(s["e"])().then((function(t){e.herbs=t}))},get_retails:function(){var e=this;Object(s["g"])().then((function(t){e.retails=t}))},get_others:function(){var e=this;Object(s["f"])().then((function(t){e.others=t}))},load_add_inventory_form:function(){this.add_inventory_form_visible=!0,this.key+=1},load_update_inventory_form:function(e){this.inventory_id=e,this.update_inventory_form_visible=!0,this.key+=1},delete_inventory:function(e){var t=this,n=confirm("Are you sure you want to delete this inventory?");n&&Object(s["b"])(e).then((function(e){t.get_inventories()}))},convert_date:function(e){e=new Date(e).toLocaleDateString("en-gb");return e}}},z=x,S=Object(f["a"])(z,r,o,!1,null,"528421fd",null),O=S.exports,j={components:{InventoryList:O}},D=j,$=(n("0db5"),Object(f["a"])(D,a,i,!1,null,"36fc4c4c",null));t["default"]=$.exports},"8ecf":function(e,t,n){"use strict";n("33d5")},"97c5":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"add_category_form"},[n("el-form",{ref:"add_category_form",attrs:{model:e.category_details,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Category"}},[n("el-input",{model:{value:e.category_details.categories,callback:function(t){e.$set(e.category_details,"categories",t)},expression:"category_details.categories"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.add_new_category}},[e._v(" Submit ")])],1)],1)],1)])},i=[],r=n("c405"),o={data:function(){return{category_details:{categories:""}}},methods:{add_new_category:function(){var e=this;this.data=this.category_details,Object(r["a"])(this.data).then((function(t){e.$notify({title:"Notification",message:t,type:"success"})}))}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,"4a770a82",null);t["a"]=c.exports},c405:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n("b775");function i(){return Object(a["a"])({url:"/category",method:"get"})}function r(e){return Object(a["a"])({url:"/category/"+e,method:"get"})}function o(e){return Object(a["a"])({url:"/category",method:"post",data:e})}function s(e,t){return Object(a["a"])({url:"/category/"+t,method:"put",data:e})}},db8c:function(e,t,n){},f3a3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return d}));var a=n("b775");function i(e){return Object(a["a"])({url:"/inventory",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/inventory/"+e,method:"delete"})}function o(e){return Object(a["a"])({url:"/inventory/"+e,method:"get"})}function s(){return Object(a["a"])({url:"/inventory/herb",method:"get"})}function l(){return Object(a["a"])({url:"/inventory/retail",method:"get"})}function c(){return Object(a["a"])({url:"/inventory/other",method:"get"})}function d(e,t){return Object(a["a"])({url:"/inventory/"+t,method:"put",data:e})}}}]);